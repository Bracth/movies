(this.webpackJsonptodoreact=this.webpackJsonptodoreact||[]).push([[0],{12:function(e,t,c){e.exports={searchContainer:"Search_searchContainer__2mwZI",searchBox:"Search_searchBox__1VDUX",searchButton:"Search_searchButton__3Sfsk",searchInput:"Search_searchInput__2OkdF"}},16:function(e,t,c){e.exports={spinner:"Spinner_spinner__3TOz3",spinning:"Spinner_spinning__1wnqc"}},19:function(e,t,c){e.exports={movieCard:"MovieCard_movieCard__1BWM_",movieImage:"MovieCard_movieImage__2ZErD"}},22:function(e,t,c){e.exports={title:"App_title__3mSNX"}},24:function(e,t,c){e.exports={moviesGrid:"MoviesGrid_moviesGrid__1f7xR"}},35:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(21),s=c.n(i),a=c(22),r=c.n(a),o=c(10),j=c(2),l=c(7),h=c(13),u=c(16),m=c.n(u),b=c(1);function d(){return Object(b.jsx)("div",{className:m.a.spinner,children:Object(b.jsx)(h.b,{className:m.a.spinning,size:60})})}function O(e){return fetch("https://api.themoviedb.org/3"+e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2ZDBkNDM3ZTEyYzgwYmJkNjMzMmUxMDEzY2VjZWVmOSIsInN1YiI6IjYxMDU2ZGEwNGYzM2FkMDAyZDkwZWQxZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.g3z1htSL8YWLOnfKCBUTIccCN5Fn7YcmJTQipsknW48","Content-Type":"application/json;charset=utf-8"}}).then((function(e){return e.json()}))}var v=c(9),x=c.n(v);function p(){var e=Object(j.h)().movieId,t=Object(n.useState)(!0),c=Object(l.a)(t,2),i=c[0],s=c[1],a=Object(n.useState)(null),r=Object(l.a)(a,2),o=r[0],h=r[1];if(Object(n.useEffect)((function(){s(!0),O("/movie/"+e).then((function(e){h(e),s(!1)}))}),[e]),i)return Object(b.jsx)(d,{});if(!o)return null;var u="https://image.tmdb.org/t/p/w500"+o.poster_path;return Object(b.jsxs)("div",{className:x.a.detailsContainer,children:[Object(b.jsx)("img",{className:"".concat(x.a.col," ").concat(x.a.movieImage),src:u,alt:o.title}),Object(b.jsxs)("div",{className:"".concat(x.a.col," ").concat(x.a.movieDetails),children:[Object(b.jsxs)("p",{className:x.a.fristItem,children:[Object(b.jsx)("strong",{children:"Title: "}),o.title]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Genres: "}),o.genres.map((function(e){return e.name})).join(", ")]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Description: "}),o.overview]})]})]})}var f=c(19),_=c.n(f);function g(e){var t=e.movie,c="https://image.tmdb.org/t/p/w300"+t.poster_path;return Object(b.jsx)("li",{className:_.a.movieCard,children:Object(b.jsxs)(o.b,{to:"/movies/"+t.id,children:[Object(b.jsx)("img",{height:345,width:230,className:_.a.movieImage,src:c,alt:t.title}),Object(b.jsx)("div",{children:t.title})]})})}var I=c(24),N=c.n(I);function D(){return new URLSearchParams(Object(j.g)().search)}var M=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(!0),a=Object(l.a)(s,2),r=a[0],o=a[1],j=D().get("search");return console.log(j),Object(n.useEffect)((function(){o(!0),O(j?"/search/movie?query="+j:"/discover/movie").then((function(e){i(e.results),o(!1)}))}),[j]),r?Object(b.jsx)(d,{}):Object(b.jsx)("ul",{className:N.a.moviesGrid,children:c.map((function(e){return Object(b.jsx)(g,{movie:e},e.id)}))})},C=c(12),S=c.n(C);function w(){var e=D().get("search"),t=Object(n.useState)(""),c=Object(l.a)(t,2),i=c[0],s=c[1],a=Object(j.f)();Object(n.useEffect)((function(){s(e||"")}),[e]);return Object(b.jsx)("form",{className:S.a.searchContainer,onSubmit:function(e){e.preventDefault(),a.push("/?search="+i)},children:Object(b.jsxs)("div",{className:S.a.searchBox,children:[Object(b.jsx)("input",{className:S.a.searchInput,type:"text",value:i,onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("button",{className:S.a.searchButton,type:"submit",children:Object(b.jsx)(h.a,{size:20})})]})})}function J(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)(M,{})]})}function B(){return Object(b.jsxs)(o.a,{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)(o.b,{to:"/",children:Object(b.jsx)("h1",{className:r.a.title,children:"Movies"})}),Object(b.jsx)("br",{})]}),Object(b.jsx)("main",{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/movies/:movieId",children:Object(b.jsx)(p,{})}),Object(b.jsx)(j.a,{path:"/",children:Object(b.jsx)(J,{})})]})})]})}c(35);s.a.render(Object(b.jsx)(B,{}),document.getElementById("root"))},9:function(e,t,c){e.exports={detailsContainer:"MovieDetails_detailsContainer__3KtHI",col:"MovieDetails_col__vnFYw",movieImage:"MovieDetails_movieImage__1cNUf",movieDetails:"MovieDetails_movieDetails__1xJMh",fristItem:"MovieDetails_fristItem__16_OE"}}},[[36,1,2]]]);
//# sourceMappingURL=main.c1410747.chunk.js.map